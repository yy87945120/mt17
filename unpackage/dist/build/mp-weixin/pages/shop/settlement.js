(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/settlement"],{"7d57":function(t,e,n){"use strict";var a=n("cd68"),o=n.n(a);o.a},"9acb":function(t,e,n){"use strict";n.r(e);var a=n("f13b"),o=n("ab00");for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);n("7d57");var r=n("2877"),u=Object(r["a"])(o["default"],a["a"],a["b"],!1,null,null,null);e["default"]=u.exports},ab00:function(t,e,n){"use strict";n.r(e);var a=n("c653"),o=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e["default"]=o.a},c653:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{title:"Hello",orderNo:"",trolley:null,address:null,amount:0}},onShow:function(){this.getAddress()},onLoad:function(t){this.getAddress(),this.getTrolley()},methods:{shop:function(){t.reLaunch({url:"/pages/shop/shop"})},changeAddress:function(){t.navigateTo({url:"/pages/mine/address?bill=true"})},pay:function(){var e=this;this.$ajax("/order/buy","POST",{addressId:e.address.id}).then(function(e){200==e.code?t.requestPayment({provider:"wxpay",timeStamp:e.paymentResult.payment.timeStamp,nonceStr:e.paymentResult.payment.nonceStr,package:e.paymentResult.payment.package,signType:e.paymentResult.payment.signType,paySign:e.paymentResult.payment.paySign,success:function(){t.navigateTo({url:"/pages/mine/billdetail/?orderNo="+e.paymentResult.no})},fail:function(){t.showToast({title:"取消支付,将放入待支付队列",icon:"none"}),setTimeout(function(){t.navigateTo({url:"/pages/mine/billdetail/?orderNo="+e.paymentResult.no})},999)}}):t.showToast({title:e.msg,icon:"none"})})},getAddress:function(){var e=this;this.$ajax("/useraddress/page","POST",{pageNo:1,pageSize:1,orderName:"default_flag",orderType:"desc"}).then(function(n){if(0==n.list.length)return t.showModal({title:"设置地址",content:"你还没有设置地址，请先设置默认地址",success:function(e){e.confirm&&t.navigateTo({url:"/pages/mine/address?bill=true"})}}),!1;e.address=n.list[0]})},toUrl:function(e){t.navigateTo({url:e})},getTrolley:function(){var t=this;this.$ajax("/order/checkOut","POST",{}).then(function(e){t.trolley=e.cart.cartItems,t.amount=e.amount})}},filters:{position:function(t){return-1==t?"取消订单":1==t?"下单":2==t?"已支付":3==t?"已发货":4==t?"已收货":0==t?"交易成功":void 0},size:function(t){var e=JSON.parse(t),n="";return e.map(function(t){n=n+" "+t.value}),n},dateTime:function(t){var e=[];e=t.split(".");var n=e[0].replace("T"," ");return n}}};e.default=n}).call(this,n("543d")["default"])},cb12:function(t,e,n){"use strict";(function(t){n("7b40"),n("921b");a(n("66fd"));var e=a(n("9acb"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},cd68:function(t,e,n){},f13b:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.trolley,function(e,n){var a=t._f("size")(e.sku.specificationValues);return{$orig:t.__get_orig(e),f0:a}}));t.$mp.data=Object.assign({},{$root:{l0:n}})},o=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o})}},[["cb12","common/runtime","common/vendor"]]]);